# Faros CLI Configuration
# 
# This file contains non-sensitive configuration for the Faros CLI.
# ALL CREDENTIALS (API keys, tokens) must be in .env file or environment
# variables -- never in this file. See .env.example for credential setup.
#
# See CONFIGURATION.md for detailed documentation.

# ==============================================================================
# Core Settings
# ==============================================================================

# Faros API URL
# Default: https://prod.api.faros.ai
# Override with: FAROS_URL environment variable
url: https://prod.api.faros.ai

# Target graph name where data will be synced
# Default: default
# Override with: FAROS_GRAPH environment variable or --graph flag
graph: default

# Staging graph name used for dry-run testing
# Default: {graph}-staging
# This is where --dry-run flag will sync data for verification
stagingGraph: default-staging

# Origin identifier for events
# This helps identify the source of data in Faros
# Default: faros-cli
# Override with: FAROS_ORIGIN environment variable
# Examples: "my-company-ci", "jenkins-prod", "github-actions"
origin: my-company-ci

# ==============================================================================
# Data Sources
# ==============================================================================
# Configure data sources you want to sync.
# Credentials are read from environment variables / .env file ONLY.
#   - LINEAR_API_KEY   for Linear
#   - GITHUB_TOKEN     for GitHub
#   - FAROS_API_KEY    for the Faros destination

sources:
  # Linear - Project management and issue tracking
  # Requires: LINEAR_API_KEY in .env
  linear:
    type: Linear
    # How often to sync (not yet implemented, for future use)
    syncInterval: 1h
    # Only fetch data updated in the last N days (default: 90)
    cutoffDays: 90
    # Or use explicit date range (overrides cutoffDays):
    # startDate: "2024-01-01"
    # endDate: "2025-01-01"
    # Streams to sync (optional, defaults to all)
    streams:
      - issues
      - projects
      - teams
      - users
      - comments
    # Connection name for state file tracking (default: mylinearsrc)
    # connectionName: mylinearsrc
    # Docker image overrides (optional):
    # srcImage: farosai/airbyte-linear-source
    # dstImage: farosai/airbyte-faros-destination
  
  # GitHub - Source code and development activity
  # Requires: GITHUB_TOKEN in .env
  github:
    type: GitHub
    syncInterval: 30m
  
  # S3 Test Results - Historical test data from S3 buckets
  # Requires: AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY in .env
  # s3-tests:
  #   type: S3
  #   bucket: my-test-results-bucket
  #   region: us-east-1
  #   prefix: junit/
  #   pattern: ".*\\.xml$"

# ==============================================================================
# Default Values
# ==============================================================================
# Set default values for common command options

defaults:
  # Default test source system
  # Used when --source flag is not provided
  # Examples: "Jenkins", "GitHub-Actions", "GitLab-CI", "CircleCI"
  testSource: Jenkins
  
  # Default test type
  # Used when --type flag is not provided
  # Options: Unit, Integration, Functional, Performance, Security, Regression
  testType: Unit
  
  # Number of concurrent uploads for test results
  # Higher = faster uploads, but may hit API rate limits
  # Recommended: 8-16 for most use cases
  concurrency: 8

# ==============================================================================
# Logging
# ==============================================================================
# Configure CLI logging behavior

logs:
  # Log level: debug, info, warn, error
  # Default: info
  # Logs are written to ./faros.log in the working directory.
  # View with: faros logs
  level: info

# ==============================================================================
# Examples
# ==============================================================================
#
# Sync Linear data:
# -----------------
# $ faros sync linear
# $ faros sync linear --streams issues,projects
# $ faros sync linear --full-refresh
# $ faros sync linear --dry-run
#
# Minimal Configuration:
# ----------------------
# url: https://prod.api.faros.ai
# graph: production
#
# Multi-Environment Setup:
# -------------------------
# Use different config files for each environment:
#   - faros.config.dev.yaml
#   - faros.config.staging.yaml
#   - faros.config.prod.yaml
#
# Then use: cp faros.config.prod.yaml faros.config.yaml
#
# CI/CD Configuration:
# --------------------
# Keep this file in git, but override settings with env vars:
#   FAROS_GRAPH=production
#   FAROS_ORIGIN=github-actions-prod
#
# Team Collaboration:
# -------------------
# This file can be committed to git and shared with your team.
# Each developer should have their own .env file with credentials.
#
# ==============================================================================
